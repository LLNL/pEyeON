-- Create a view that flattens the metadata structure.
-- TODO generate this in gen_ddl.py from the schema def.
CREATE VIEW raw_base_metadata AS
SELECT metadata.EI_ABIVERSION, metadata.elfNote, metadata.elfHumanArch, metadata.elfRpath, metadata.jsLibraries, metadata.elfRunpath, metadata.elfIsExe, metadata.description, metadata.peLinkerVersion, metadata.dllRedirectionLocal, metadata.elfIsLib, metadata.elfGnuRelro, metadata.peOperatingSystemVersion, metadata.coffMachineType, metadata.elfArchitecture, metadata.E_MACHINE, metadata.elfIsCore, metadata.elfIsRel, metadata.peImport, metadata.elfDynamicFlags1, metadata.EI_VERSION, metadata.peIsExe, metadata.numBinaries, metadata.FileInfo, metadata.OS, metadata.uimage_header, metadata.EI_CLASS, metadata.peSubsystem, metadata.rpm, metadata.binaries, metadata.elfComment, metadata.peIsClr, metadata.elfOsAbi, metadata.EI_DATA, metadata.elfArchNumber, metadata.ole, metadata.elfSoname, metadata.elfInterpreter, metadata.elfDependencies, metadata.EI_OSABI, metadata.observation_uuid, metadata.peIsDll, metadata.elfDynamicFlags, metadata.peMachine, metadata.dockerSPDX, metadata.peSubsystemVersion, metadata.aoutMachineType, metadata.nativeLibraries
FROM raw_json;
